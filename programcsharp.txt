using System;
using System.Collections.Generic;
using System.Linq;

class Program
{
    static void Main()
    {
        List<int> numbers = new List<int> { 9, 1, 9, 4, 9, 4, 1, 3 };
        
        var grouped = numbers
            .GroupBy(n => n)
            .Select(g => new { Number = g.Key, Count = g.Count() })
            .ToList();
        
        var sorted = grouped
            .OrderByDescending(g => g.Count)
            .ThenByDescending(g => g.Number)
            .ToList();
        
        foreach (var item in sorted)
        {
            Console.Write(item.Number + " ");
        }
    }
}